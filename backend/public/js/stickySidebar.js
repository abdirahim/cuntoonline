!function(e){e.fn.stickySidebar=function(o){var t=e.extend({headerSelector:"header",navSelector:"nav",contentSelector:"#content",footerSelector:"footer",sidebarTopMargin:20,footerThreshold:40},o),r=function(){var o=e(this),r=(e(window).height(),e(window).width(),e(document).height()),i=e(t.headerSelector).outerHeight(),n=e(t.navSelector).outerHeight(),s=o.outerHeight(),c=(e(t.contentSelector).outerHeight(),e(t.footerSelector).outerHeight()),h=e(window).scrollTop(),a=i+n,d=r-(s+c+t.footerThreshold);if(a>h)o.removeClass("sticky");else if(h>=a&&d>h)o.addClass("sticky").css("top",t.sidebarTopMargin);else{var l=d-h;o.addClass("sticky").css("top",l)}};return this.each(function(){e(window).on("scroll",e.proxy(r,this)),e(window).on("resize",e.proxy(r,this)),e.proxy(r,this)()})}}(jQuery);