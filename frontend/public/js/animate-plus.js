!function(i){function t(t){this.htmlElement=t,this.animations=i(this.htmlElement).attr("data-animations").split(","),this.animationIndex=0,this.lastAnimation="",void 0!==i(this.htmlElement).attr("data-animation-duration")&&(this.animationDuration=i(this.htmlElement).attr("data-animation-duration").split(",")),void 0!==i(this.htmlElement).attr("data-animation-delay")&&(this.animationDelay=i(this.htmlElement).attr("data-animation-delay").split(","))}function n(){this.elements=[],this.animateWhenVisible=!1,this.isPerformingAnimation=!1,this.resetWhenOffscreen=!1,this.repeat=!1,this.isReset=!0}function a(){this.onVisbileGroups=[],this.map=[],i(".animate-plus").addClass("animated"),i.each(i(".animate-plus"),function(a,e){var s=new t(e),o=i(e).attr("data-animation-group");void 0===o&&(o="_"+a,i(e).attr("data-animation-group",o)),void 0===this.map[o]&&(this.map[o]=new n);var m=i(e).attr("data-animation-when-visible");void 0!==m&&(this.map[o].animateWhenVisible=!0);var r=i(e).attr("data-animation-reset-offscreen");void 0!==r&&(this.map[o].resetWhenOffscreen=!0);var h=i(e).attr("data-animation-repeat");void 0!==h&&(this.map[o].repeat=!0);var l=this.map[o].elements,d=i(e).attr("data-animation-order"),c=void 0!==d;if(c)var u=d.split(",");for(var p=i(e).attr("data-animations").split(","),f=0;f<p.length;f++){var v=f+1;c&&(v=u[f]),void 0===l[v]&&(l[v]=[]),l[v].push(s)}}.bind(this)),i(window).on("scroll",function(){this.checkOnVisibleGroups()}.bind(this)),i(window).on("resize",function(){this.checkOnVisibleGroups()}.bind(this)),i(document).ready(function(){this.checkOnVisibleGroups()}.bind(this)),this.isElementVisible=function(t){var n=i(window).scrollTop(),a=i(window).height()+n,e=i(t).offset().top,s=i(t).height()+e;return a>=e&&s>=n},this.checkOnVisibleGroups=function(){for(var i=0;i<this.onVisbileGroups.length;i++)for(var t=this.map[this.onVisbileGroups[i]],n=1;n<t.elements.length;n++)for(var a=t.elements[n],e=0;e<a.length;e++){var s=a[e].htmlElement;this.isElementVisible(s)&&!t.isPerformingAnimation&&t.animate(1),this.isElementVisible(s)||t.isPerformingAnimation||!t.resetWhenOffscreen||t.reset()}}}jQuery.fn.redraw=function(){return this.hide(0,function(){i(this).show()})},jQuery.fn.restartAnimation=function(){var t=i(this).attr("data-animation-group"),n=a.getInstance().getMap()[t];n.restart()},t.prototype.doNextAnimation=function(t){if(this.animationIndex>=this.animations.length)return void t();var n,a;i(this.htmlElement).removeClass(this.lastAnimation),this.lastAnimation=this.animations[this.animationIndex],i(this.htmlElement).css("animation-duration","").css("-webkit-animation-duration","").css("-moz-animation-duration","").css("-ms-animation-duration","").css("-o-animation-duration",""),void 0!==this.animationDuration&&void 0!==this.animationDuration[this.animationIndex]&&(n=this.animationDuration[this.animationIndex],i(this.htmlElement).css("animation-duration",n).css("-webkit-animation-duration",n).css("-moz-animation-duration",n).css("-ms-animation-duration",n).css("-o-animation-duration",n)),i(this.htmlElement).css("animation-delay","").css("-webkit-animation-delay","").css("-moz-animation-delay","").css("-ms-animation-delay","").css("-o-animation-delay",""),void 0!==this.animationDelay&&void 0!==this.animationDelay[this.animationIndex]&&(a=this.animationDelay[this.animationIndex],i(this.htmlElement).css("animation-delay",a).css("-webkit-animation-delay",a).css("-moz-animation-delay",a).css("-ms-animation-delay",a).css("-o-animation-delay",a)),this.animationIndex++,i(this.htmlElement).redraw(),i(this.htmlElement).addClass(this.lastAnimation).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",t)},n.prototype.reset=function(){if(!this.isReset){for(var t=1;t<this.elements.length;t++)for(var n=0;n<this.elements[t].length;n++)this.elements[t][n].animationIndex=0,i(this.elements[t][n].htmlElement).removeClass(this.elements[t][n].lastAnimation);this.isReset=!0}},n.prototype.animate=function(i){var t=0,n=this.elements[i];if(void 0===n)return void(this.repeat?(this.reset(),this.animate(1)):this.isPerformingAnimation=!1);this.isPerformingAnimation=!0,this.isReset=!1;for(var a=0;a<n.length;a++)n[a].doNextAnimation(function(){t++,t==n.length&&this.animate(++i)}.bind(this))},n.prototype.restart=function(){this.isPerformingAnimation||(this.reset(),this.animate(1))},a.prototype.start=function(){for(var i in this.map)this.map[i].animateWhenVisible?this.registerOnVisbileMap(i):this.map[i].animate(1)},a.prototype.registerOnVisbileMap=function(i){this.onVisbileGroups.push(i)},a.prototype.getMap=function(){return this.map},a.instance=null,a.getInstance=function(){return null===a.instance&&(a.instance=new a),a.instance},i(document).ready(function(){a.getInstance().start()})}(jQuery);